document,window.JustkaBubble={imDomain:"https://sit.eyesmedia.com.tw/webapp",apiPath:"/sdk/bubble/",cssPath:"https://sit.eyesmedia.com.tw/sdk/xxxxxx/bubble.css"};
!function(s,l){var n={srcParameter:{bobbleId:null,dev:"biz"},configData:null,imIsloaded:!1},o=null,c=null,d=null,r=null,b=`
    <?xml version="1.0" encoding="utf-8"?>
    <!-- Generator: Adobe Illustrator 24.0.3, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
    <svg version="1.1" id="lavel_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
      viewBox="0 0 14.2 14.2" style="enable-background:new 0 0 14.2 14.2;" xml:space="preserve">
    <path d="M7.8,7.1l3.5-3.5c0.2-0.2,0.2-0.5,0-0.7s-0.5-0.2-0.7,0L7.1,6.4L3.6,2.8C3.4,2.6,3,2.6,2.8,2.8s-0.2,0.5,0,0.7l3.5,3.5
      l-3.5,3.5c-0.2,0.2-0.2,0.5,0,0.7c0.1,0.1,0.2,0.1,0.4,0.1s0.3,0,0.4-0.1l3.5-3.5l3.5,3.5c0.1,0.1,0.2,0.1,0.4,0.1s0.3,0,0.4-0.1
      c0.2-0.2,0.2-0.5,0-0.7L7.8,7.1z"/>
    </svg>
  `,f=`
  <?xml version="1.0" encoding="utf-8"?>
  <!-- Generator: Adobe Illustrator 24.0.3, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
  <svg version="1.1" class="bot-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
     viewBox="0 0 121.9 104.9" style="enable-background:new 0 0 121.9 104.9;" xml:space="preserve">
  
    <defs>
      <style>
        .ae9949ce-962e-451a-9d88-085bb77e279a,
        .b2931284-4e3b-4bc8-8d4c-e305bd7637d4{fill:#fff;}
        .b390e02c-b190-4faa-8645-9dbf7b9457c9{fill:url(#ec30617b-ea4d-4086-b296-c1607d5b2d3a);}
        .a8c2b248-d5fb-446f-98e6-fd9c01e81c57{fill:url(#b59008ef-b9a4-44ea-80a0-418f1b36144b);}
        .a3c542fe-2cd2-4f65-82bd-61bca4f8cd06{fill:#4e4d4d;}
        .a91ba7b6-5227-473d-974a-fc1ef92df7b4{clip-path:url(#b0dad690-9afb-430f-a960-17c7b125ef21);}
        .a7e2e221-5c5d-4136-8ebd-eee70bb9700e{fill:url(#a503e970-e9af-4f4b-8d3e-87ebd848ecb1);}
        .loading-eyes-face {
          visibility: hidden;
        }
        .loading-line {
          fill:none;
          stroke:#72c8d5;
          stroke-linecap:round;
          stroke-linejoin:round;
          stroke-width: 2;
        }
        .loading-dot {
          fill: #72c8d5; 
          transform: translate(-38px, -46px);
        }
        .close-eyes {
          fill:none;
          stroke:#72c8d5;
          stroke-width:3.9174;
          stroke-linecap:round;
          stroke-linejoin:round;
          stroke-miterlimit:10;
        }
        .open-eyes {
          fill:none;
          stroke:#72c8d5;
          stroke-width:3.9174;
          stroke-miterlimit:10;
        }
      </style>
      <radialGradient id="ec30617b-ea4d-4086-b296-c1607d5b2d3a" cx="-233.77" cy="468.82" r="1" gradientTransform="translate(-25113.73 41520.34) rotate(-175.21) scale(92.54)" gradientUnits="userSpaceOnUse">
        <stop offset="0.01" stop-color="#7f8080" stop-opacity="0.8"/><stop offset="0.95" stop-color="#fff"/>
      </radialGradient>
      <radialGradient id="b59008ef-b9a4-44ea-80a0-418f1b36144b" cx="-224.46" cy="451.4" r="1" gradientTransform="translate(-4584.74 7816.36) rotate(-175.21) scale(17.9)" gradientUnits="userSpaceOnUse">
        <stop offset="0" stop-color="#7f8080" stop-opacity="0.43"/>
        <stop offset="0.77" stop-color="#fff" stop-opacity="0"/>
      </radialGradient>
      <clipPath id="b0dad690-9afb-430f-a960-17c7b125ef21">
        <path class="ae9949ce-962e-451a-9d88-085bb77e279a" d="M5.3,44.29C3.23,68.92,26.48,91,57.24,93.6a68.87,68.87,0,0,0,8.38.18h.06c.56,0,1.13-.05,1.69-.09,26.92-1.3,34.78,2.49,38.78,6.67a1.78,1.78,0,0,0,1.62.49,1.82,1.82,0,0,0,.79-.38,1.77,1.77,0,0,0,.5-.71c7.72-19.57,7.84-49.07,7.84-49.07l-.13,0c.11-23.5-22.51-44-52.06-46.45C34,1.72,7.36,19.66,5.3,44.29Z"/>
      </clipPath>
      <radialGradient id="a503e970-e9af-4f4b-8d3e-87ebd848ecb1" cx="-230.71" cy="452.4" r="1" gradientTransform="matrix(-34.47, -6.48, 2.63, -8.56, -9087.04, 2463.75)" gradientUnits="userSpaceOnUse">
        <stop offset="0.03" stop-color="#fff" stop-opacity="0.2"/>
        <stop offset="0.33" stop-color="#fff" stop-opacity="0.13"/>
        <stop offset="0.8" stop-color="#fff" stop-opacity="0"/>
      </radialGradient>
    </defs>
    
    <g data-name="m-svg-group">

      <g data-name="m-body">
        <path class="b2931284-4e3b-4bc8-8d4c-e305bd7637d4" d="M5.3,44.29C3.23,68.92,26.48,91,57.24,93.6a68.87,68.87,0,0,0,8.38.18h.06c.56,0,1.13-.05,1.69-.09,26.92-1.3,34.78,2.49,38.78,6.67a1.78,1.78,0,0,0,1.62.49,1.82,1.82,0,0,0,.79-.38,1.77,1.77,0,0,0,.5-.71c7.72-19.57,7.84-49.07,7.84-49.07l-.13,0c.11-23.5-22.51-44-52.06-46.45C34,1.72,7.36,19.66,5.3,44.29Z"/>
        <path class="b390e02c-b190-4faa-8645-9dbf7b9457c9" d="M4.87,44.21C2.79,69,26.18,91.23,57.13,93.82a69.74,69.74,0,0,0,8.43.18h.06l1.7-.09c27.08-1.31,35,2.51,39,6.71a1.88,1.88,0,0,0,.75.46,1.75,1.75,0,0,0,.88,0,1.82,1.82,0,0,0,.79-.38,1.76,1.76,0,0,0,.51-.72c7.76-19.68,7.88-49.37,7.88-49.37l-.12.05C117.14,27.06,94.37,6.46,64.65,4,33.7,1.38,6.94,19.42,4.87,44.21Z"/>
        <path class="a8c2b248-d5fb-446f-98e6-fd9c01e81c57" d="M4.87,44.21C2.79,69,26.18,91.23,57.13,93.82a69.74,69.74,0,0,0,8.43.18h.06l1.7-.09c27.08-1.31,35,2.51,39,6.71a1.88,1.88,0,0,0,.75.46,1.75,1.75,0,0,0,.88,0,1.82,1.82,0,0,0,.79-.38,1.76,1.76,0,0,0,.51-.72c7.76-19.68,7.88-49.37,7.88-49.37l-.12.05C117.14,27.06,94.37,6.46,64.65,4,33.7,1.38,6.94,19.42,4.87,44.21Z"/>
        <path class="a3c542fe-2cd2-4f65-82bd-61bca4f8cd06" d="M18,44.34l-.19,2.26c-.77,9.15,6,20.79,15.19,21.55l52.71,4.42c9.15.76,17.19-9.63,18-18.78l.19-2.26c.76-9.15-6-21.3-15.19-22.06L36,25.05C26.85,24.29,18.81,35.19,18,44.34Z"/>
        <g class="a91ba7b6-5227-473d-974a-fc1ef92df7b4">
          <path class="a7e2e221-5c5d-4136-8ebd-eee70bb9700e" d="M100.88,93.7c1.9-6.17-16.75-15-41.64-19.65s-46.62-3.47-48.52,2.7,16.75,15,41.65,19.65S99,99.88,100.88,93.7Z"/>
        </g>
      </g>

      <g data-name="open-eyes">
        <path class="open-eyes" d="M88.1,50.4c0.5-6.5-3.3-12.2-8.6-12.6c-5.3-0.4-10,4.5-10.6,11c-0.5,6.5,3.3,12.2,8.6,12.6
          S87.5,56.9,88.1,50.4z"/>
        <path class="open-eyes" d="M50.1,47.1c0.5-6.5-3.3-12.2-8.6-12.6c-5.3-0.4-10,4.5-10.6,11c-0.5,6.5,3.3,12.2,8.6,12.6
          C44.8,58.5,49.6,53.6,50.1,47.1z"/>
      </g>

      <g data-name="close-eyes">
        <path class="close-eyes" d="M50,48.3c-1.7-2.1-5.3-3.6-9.4-3.9s-7.5,0.7-9.7,2.5"/>
        <path class="close-eyes" d="M87.9,51.7c-1.7-2.1-5.3-3.6-9.4-3.9s-7.5,0.7-9.7,2.5"/>
      </g>
  
      <g data-name="loading-eyes-face" class="loading-eyes-face">
        <line class="loading-line" 
          x1="29.8" y1="45.46" x2="92.68" y2="50.99">
        </line>
        <g>
          <path class="loading-dot" 
            d="M44.6,46.7c0,0-3.6,4.7-7.6,4.4s-6.7-5.6-6.7-5.6s3.6-4.7,7.6-4.4S44.6,46.7,44.6,46.7z">
          </path>
          <animateMotion dur="1s" repeatCount="indefinite">
            <mpath xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#dot-animate-line"></mpath>
          </animateMotion>
          <path id="dot-animate-line" fill="none" d="M37,46.1c0,0,18.3,1.6,22.4,2c4.1,0.4,26.4,2.3,26.4,2.3L37,46.1"/>
        </g>
      </g>

    </g>
  </svg>
  `;function u(){var e=Array.from(s.body.querySelectorAll("*")),t=0;return e.forEach(e=>{e=l.getComputedStyle(e).zIndex;"auto"!==e&&(t=parseInt(e)>=t?parseInt(e):t)}),t+1<=1?2:t+1}function a(){var e,t=u(),t=((o=s.createElement("div")).classList.add("justka-bubble-area"),o.classList.add("hide"),o.setAttribute("style","z-index:"+t),(c=s.createElement("div")).classList.add("justka-bubble-btn"),c.classList.add(n.configData.config.size),c.innerHTML=f,s.createElementNS("http://www.w3.org/2000/svg","svg")),a=(t.setAttribute("width","100%"),t.setAttribute("height","100%"),s.createElementNS("http://www.w3.org/2000/svg","ellipse")),i=n.configData.config.bgColor||"transparent",i=(a.setAttribute("fill",i),a.setAttribute("cx","50%"),a.setAttribute("cy","50%"),a.setAttribute("rx","40%"),a.setAttribute("ry","40%"),a.setAttribute("opacity",n.configData.config.bgOpacity),n.configData.config.useBlur&&((e=s.createElementNS("http://www.w3.org/2000/svg","radialGradient")).setAttribute("gradientUnits","userSpaceOnUse"),e.setAttribute("id","radialBlur"),e.setAttribute("cx","50%"),e.setAttribute("cy","50%"),e.setAttribute("r","50%"),e.innerHTML=`
        <stop offset="0.5" style="stop-color:${i}; stop-opacity:1"/>
        <stop offset="0.8" style="stop-color:${i}; stop-opacity:0"/>
      `,a.setAttribute("fill","url(#radialBlur)"),t.appendChild(e),t.appendChild(a)),t.appendChild(a),c.appendChild(t),o.appendChild(c),(r=s.createElement("div")).classList.add("description-box"),r.classList.add("hide"),`<div>${n.configData.config.welcomeWord}</div><div class="close-btn" id="descriptionCloseBtn">${b}</div>`);r.innerHTML=i,o.appendChild(r),o.addEventListener("transitionend",function e(t){t.target===o&&(r.classList.remove("hide"),o.removeEventListener("transitionend",e))},!1),s.getElementsByTagName("body")[0].appendChild(o),setTimeout(function(){o.classList.remove("hide")},0),c.addEventListener("click",function(){if(s.getElementById("chatBotIframe"))return!1;var e;c.classList.add("loading-iframe"),(d=s.createElement("div")).classList.add("justka-iframe-box"),e=u(),d.setAttribute("style","z-index:"+e),iframeSrc=l.JustkaBubble.imDomain+"/?provision="+n.configData.provision+"&q="+n.configData.provision+"&a="+n.configData.account,(e=s.createElement("iframe")).setAttribute("id","chatBotIframe"),e.setAttribute("name","chatBotIframe"),e.setAttribute("src",iframeSrc),d.innerHTML=`<div class="close-iframe-btn" id="closeIframeBtn">${b}</div>`,d.appendChild(e),s.getElementsByTagName("body")[0].appendChild(d),e.addEventListener("load",function(){var e=setInterval(function(){n.imIsloaded&&(s.getElementById("descriptionCloseBtn").click(),c.classList.add("hide"),clearInterval(e)),"dev"===n.srcParameter.dev&&(n.imIsloaded=!0)},400)},!1),s.getElementById("closeIframeBtn").addEventListener("click",function(e){c.classList.remove("loading-iframe"),d.classList.remove("iframeIn"),n.imIsloaded=!1},!1),d.addEventListener("transitionend",function(e){var t,a=!1;for(t of e.target.classList)"iframeIn"===t&&(a=!0);a||(c.classList.remove("hide"),d.remove())},!1)},!1),c.addEventListener("transitionend",function(e){var t,a=!0;for(t of e.target.classList)"hide"===t&&(a=!1);a||d.classList.add("iframeIn")},!1),s.getElementById("descriptionCloseBtn").addEventListener("click",function(e){e.target.parentNode.classList.add("hide")},!1)}if(l.JustkaBubble.iframeOnload=function(e){n.imIsloaded=e},s.getElementById("justka-bubble")){for(var e,t,i=s.getElementById("justka-bubble").getAttribute("src"),p={},g=i.slice(i.indexOf("?")+1).split("&"),m=0;m<g.length;m++)e=g[m].split("="),-1<Array.isArray(e[0],p)&&(p[e[0]]=e[1]);n.srcParameter={...p},console.log("JUSTKA...",n),n.srcParameter.bubbleId&&(i=function(){var e;e=function(){var e,t;a(),"true"===n.srcParameter.devtool&&(e=`
      <h3>泡泡按鈕測試面板</h3>
      <div class="classification">
        <label>尺寸</label>
        <select id="justka-bubble-size" value="${n.configData.config.size}">
          <option value="L">大</option>
          <option value="M">中</option>
          <option value="S">小</option>
        </select>
      </div>
      <div class="classification">
        <label>背景色</label>
        <input type="color" id="justka-bubble-bgColor" value="${n.configData.config.bgColor}">
      </div>
      <div class="classification">
        <label>背景透明度</label>
        0 <input type="range" min="0.0" max="1.0" step="0.01" 
          id="justka-bubble-bgOpacity"
          value="${n.configData.config.bgOpacity}"> 1
      </div>
      <div class="classification">
        <label>背景羽化效果</label>
        <select id="justka-bubble-bgBlur" value="${n.configData.config.useBlur}">
          <option value="true">Yes</option>
          <option value="false">False</option>
        </select>
      </div>
      <div class="classification">
        <label>歡迎詞</label>
        <textarea id="justka-bubble-welcomeWord"></textarea>
      </div>
    `,(t=s.createElement("DIV")).classList.add("justka-bubble-devtool-area"),t.innerHTML=e,s.getElementsByTagName("body")[0].appendChild(t),s.getElementById("justka-bubble-size").addEventListener("change",function(e){o.remove(),n.configData.config.size=e.target.value,a()},!1),s.getElementById("justka-bubble-bgColor").addEventListener("change",function(e){o.remove(),n.configData.config.bgColor=e.target.value,a()},!1),s.getElementById("justka-bubble-bgOpacity").addEventListener("change",function(e){o.remove(),n.configData.config.bgOpacity=e.target.value,a()},!1),s.getElementById("justka-bubble-bgBlur").addEventListener("change",function(e){console.log("welcomeWord",e.target.value),o.remove(),n.configData.config.useBlur="true"===e.target.value,a()},!1),s.getElementById("justka-bubble-welcomeWord").addEventListener("change",function(e){o.remove(),n.configData.config.welcomeWord=e.target.value,a()},!1))},setTimeout(function(){n.configData={provision:"8feed844-c12d-4e83-8ea9-ab4b5d859558",account:"d3f53a60-db70-11e9-8a34-2a2ae2dbcce4",config:{welcomeWord:"哈囉您好! 有需要幫忙的地方,歡迎找我喔!",bgColor:"#89e3e9",bgOpacity:.8,size:"L",useBlur:!0},promotion:{}},console.log("假裝取得中台設定好的資料:",n),e()},1e3)},(t=s.createElement("link")).rel="stylesheet",t.type="text/css",t.href=l.JustkaBubble.cssPath,t.onload=i,s.getElementsByTagName("head")[0].appendChild(t))}}(document,window);