<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta content=“width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no” name=“viewport”>
<title>Lucas</title>
<script type="text/javascript" src="https://d.line-scdn.net/liff/1.0/sdk.js"></script>
<style>
* {
  font-family: '微軟黑體';
}
html, body {
  text-align: center;
  width: 100%;
  height: 100%;
  padding: 0;
  margin: 0;
}
.test-box {
  display: flex;
}

button {
  padding: 20px;
  font-size: 2vw;
}
#testWebView {
  border: 1px solid #666;
  padding: 20px;
  font-size: 3vw;
  width: 90%;
  margin: 50px auto;
  text-align: left;
}
</style>
</head>
<body>
  <button onClick="aa_fn()">click</button>
  <div id="testWebView"></div>
<script>
//WebView.loadUrl('https://www.google.com/');
var $testWebView = document.getElementById('testWebView');
/* 
var isHaveWebView = null;
if (webview === undefined) {
  isHaveWebView = false;
} else {
  isHaveWebView = true;
}

$testWebView.innerHTML = isHaveWebView; */

function isWebview() {
	var useragent = navigator.userAgent;
	//var regex = '/(WebView|(iPhone|iPod|iPad)(?!.*Safari\/)|Android.*(wv|.0.0.0))/gi';
	var regex = '/(WebView|(iPhone|iPod|iPad)(?!.*Safari\/)|Android.*(wv|.0.0.0))/gi';
	return Boolean(useragent.match(regex));
}

function openInWebview () {
  var txt = '';
  var ua = navigator.userAgent.toLowerCase();
  txt += ua;
  if (ua.match(/MicroMessenger/i) == 'micromessenger') { // 微信浏览器判断
    txt += ' a';
    $testWebView.innerHTML = txt;
    return false
  } else if (ua.match(/QQ/i) == 'qq') { // QQ浏览器判断
    txt += ' b';
    $testWebView.innerHTML = txt;
    return false
  } else if (ua.match(/WeiBo/i) == "weibo") {
    txt += ' c';
    $testWebView.innerHTML = txt;
    return false
  } else {
    if (ua.match(/Android/i) != null) {
      txt += ' d';
      $testWebView.innerHTML = txt;
      return ua.match(/browser/i) == null
    } else if (ua.match(/iPhone/i) != null) {
      txt += ' e';
      $testWebView.innerHTML = txt;
      return ua.match(/safari/i) == null
    } else {
      txt += ' f';
      $testWebView.innerHTML = txt;
      return (ua.match(/macintosh/i) == null && ua.match(/windows/i) == null)
    }
  }
}

function openInLINE () {
  var u = navigator.userAgent,
      ua = navigator.userAgent.toLowerCase();
  $testWebView.innerHTML = ua;
  // 如果是 Line 內建瀏覽器
  return (u.indexOf("Line") > -1)  
}


function aa_fn() {
  alert(openInLINE());
  //var ua = window.navigator.userAgent;
  //alert(ua);

  //window.location.reload();
}

window['notification'] = new Notification('Asia FunPASS', {
  body: '有客戶等候處理中'
});

</script>
</body>
</html>